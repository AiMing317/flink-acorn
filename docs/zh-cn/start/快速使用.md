##### 插件安装

下载服务器插件

?> 如果github无法访问,建议使用gitee下载源码

```bash
git clone https://gitee.com/ispong/flink-acorn.git
# or
git clone https://github.com/ispong/flink-acorn.git
```

修改插件配置文件

```bash
vim ${flink-acorn}/acorn-plugin/src/main/resources/application.yml 
```

```yaml
server:
  port: 30155 # 插件的端口号

acorn:
  plugin:
    log-dir: /home/acorn/log # 插件产生的日志路径
    tmp-dir: /home/acorn/tmp # 插件自动生成的项目临时路径
    server-key: acorn-key # 客户端需要使用到的密钥
    flink-port: 8081 # flink安装启动的端口号
    storage-tmp: false # 是否自动删除项目临时路径的文件
```

打包编译

```bash
mvn clean package -f ${flink-acorn}/acorn-plugin/pom.xml
```

运行插件

?> 建议不要直接使用java -jar运行

```bash
java -jar ${flink-acorn}/acorn-plugin/target/acorn-plugin.jar
# or
touch ${flink-acorn}/acorn.log
nohup java -jar -Xmx1024m ${flink-acorn}/acorn-plugin/target/acorn-plugin.jar >> ${flink-acorn}/acorn.log 2>&1 &
tail -f ${flink-acorn}/acorn.log
```

关闭插件

```bash
sudo netstat -nlpt | grep 30155
sudo kill -9 ${pid}
```

##### 客户端使用

?> 建议参考 `${flink-acorn}/acorn-template` 这个项目

添加项目依赖

```xml
<dependency>
    <groupId>com.isxcode.acorn</groupId>
    <artifactId>acorn-common</artifactId>
    <version>0.0.1</version>
</dependency>
```

